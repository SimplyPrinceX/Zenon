{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simpl/Desktop/nova-main/zeon/src/app/live-sports/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst API_BASE = \"https://streami.su/api\";\r\n\r\nconst SPORT_ORDER = [\r\n  \"football\", \"basketball\", \"american-football\", \"hockey\", \"baseball\", \"motor-sports\", \"fight\", \"tennis\", \"rugby\", \"golf\"\r\n];\r\n\r\nfunction formatDate(ms: number) {\r\n  if (!ms) return \"\";\r\n  const d = new Date(ms);\r\n  return d.toLocaleString([], { dateStyle: \"medium\", timeStyle: \"short\" });\r\n}\r\n\r\nexport default function LiveSportsPage() {\r\n  const router = useRouter();\r\n  const [sports, setSports] = useState<any[]>([]);\r\n  const [matchesBySport, setMatchesBySport] = useState<Record<string, any[]>>({});\r\n  const [popularLive, setPopularLive] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const sectionRefs = useRef<Record<string, HTMLDivElement | null>>({});\r\n\r\n  // Fetch all sports\r\n  useEffect(() => {\r\n    fetch(`${API_BASE}/sports`)\r\n      .then(res => res.json())\r\n      .then(data => setSports(data || []));\r\n  }, []);\r\n\r\n  // Fetch matches for all sports in SPORT_ORDER and popular live\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    Promise.all([\r\n      fetch(`${API_BASE}/matches/live/popular`).then(res => res.json()),\r\n      ...SPORT_ORDER.map(sport =>\r\n        fetch(`${API_BASE}/matches/${sport}/popular`)\r\n          .then(res => res.json())\r\n          .then(data => [sport, data || []])\r\n      )\r\n    ]).then(([popularLiveData, ...results]) => {\r\n      setPopularLive(popularLiveData || []);\r\n      const bySport: Record<string, any[]> = {};\r\n      results.forEach(([sport, matches]) => {\r\n        bySport[sport] = matches;\r\n      });\r\n      setMatchesBySport(bySport);\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  // Card for a match\r\n  const MatchCard = ({ match }: { match: any }) => {\r\n    const homeBadge = match.teams?.home?.badge;\r\n    const awayBadge = match.teams?.away?.badge;\r\n    const homeName = match.teams?.home?.name;\r\n    const awayName = match.teams?.away?.name;\r\n    const poster = match.poster;\r\n    let posterUrl = \"\";\r\n    if (poster) {\r\n      posterUrl = `${API_BASE}/images/proxy/${poster}.webp`;\r\n    } else if (homeBadge && awayBadge) {\r\n      posterUrl = `${API_BASE}/images/poster/${homeBadge}/${awayBadge}.webp`;\r\n    }\r\n    // Fallback image handler\r\n    const [imgError, setImgError] = useState(false);\r\n    return (\r\n      <div\r\n        className=\"bg-[#18181b] rounded-xl shadow-md overflow-hidden cursor-pointer border border-[#232329] relative min-w-[220px] max-w-[260px] flex flex-col hover:shadow-xl transition\"\r\n        onClick={() => router.push(`/live-sports/${match.category}/${match.id}`)}\r\n      >\r\n        {posterUrl && !imgError ? (\r\n          <img src={posterUrl} alt={match.title} className=\"w-full h-28 object-cover rounded-t-xl\" loading=\"lazy\" onError={() => setImgError(true)} />\r\n        ) : (\r\n          <div className=\"w-full h-28 bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-white/40 text-2xl font-bold\">Streamed</div>\r\n        )}\r\n        <div className=\"absolute top-2 left-2\">\r\n          {match.status && match.status.toLowerCase() === \"live\" && (\r\n            <span className=\"bg-red-600 text-white text-xs font-bold px-2 py-1 rounded\">LIVE</span>\r\n          )}\r\n        </div>\r\n        <div className=\"p-3 flex-1 flex flex-col justify-between\">\r\n          <div className=\"flex items-center justify-center gap-2 mb-1\">\r\n            {homeBadge && <img src={`${API_BASE}/images/badge/${homeBadge}.webp`} alt={homeName} className=\"w-8 h-8 object-contain rounded-full bg-white\" loading=\"lazy\" onError={e => (e.currentTarget.style.display = 'none')} />}\r\n            <span className=\"text-white font-semibold text-sm\">{homeName}</span>\r\n            <span className=\"text-white font-bold mx-1\">vs</span>\r\n            <span className=\"text-white font-semibold text-sm\">{awayName}</span>\r\n            {awayBadge && <img src={`${API_BASE}/images/badge/${awayBadge}.webp`} alt={awayName} className=\"w-8 h-8 object-contain rounded-full bg-white\" loading=\"lazy\" onError={e => (e.currentTarget.style.display = 'none')} />}\r\n          </div>\r\n          <div className=\"font-bold text-base text-white truncate mb-1\" title={match.title}>{match.title}</div>\r\n          <div className=\"text-gray-400 text-xs mb-1\">{formatDate(match.date)}</div>\r\n          <div className=\"text-gray-500 text-xs\">{match.category}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Carousel for a section\r\n  const SectionCarousel = ({ title, matches, sectionId }: { title: string, matches: any[], sectionId: string }) => (\r\n    <div className=\"mb-8\" ref={el => { sectionRefs.current[sectionId] = el; }}>\r\n      <h2 className=\"text-2xl font-bold mb-3 text-white drop-shadow-lg\">{title}</h2>\r\n      <div className=\"flex gap-5 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-cyan-400/30 scrollbar-track-transparent\">\r\n        {matches.map((match) => <MatchCard key={match.id} match={match} />)}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Sticky sports selector\r\n  const scrollToSection = (sportId: string) => {\r\n    const el = sectionRefs.current[sportId];\r\n    if (el) {\r\n      el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 py-8 mt-16\">\r\n      {/* Sticky Sports Selector */}\r\n      <div className=\"sticky top-0 z-40 bg-[#18181b] py-3 mb-6 flex gap-3 overflow-x-auto scrollbar-thin scrollbar-thumb-cyan-400/30 scrollbar-track-transparent border-b border-[#232329]\">\r\n        {SPORT_ORDER.map((sportId) => {\r\n          const sport = sports.find((s) => s.id === sportId);\r\n          if (!sport) return null;\r\n          return (\r\n            <button\r\n              key={sport.id}\r\n              className=\"flex flex-col items-center px-4 py-2 rounded-lg bg-[#232329] text-white font-semibold hover:bg-cyan-900 transition min-w-[90px]\"\r\n              onClick={() => scrollToSection(sport.id)}\r\n            >\r\n              {/* Optionally add sport icon here */}\r\n              <span>{sport.name}</span>\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n      <h1 className=\"text-3xl font-extrabold text-white mb-8 drop-shadow-lg\">Live Sports</h1>\r\n      {loading ? (\r\n        <div className=\"text-white text-lg\">Loading...</div>\r\n      ) : (\r\n        <>\r\n          {popularLive.length > 0 && <SectionCarousel title=\"Popular Live\" matches={popularLive} sectionId=\"popular-live\" />}\r\n          {SPORT_ORDER.map((sportId) => {\r\n            const sport = sports.find((s) => s.id === sportId);\r\n            if (!sport || !matchesBySport[sportId] || matchesBySport[sportId].length === 0) return null;\r\n            return <SectionCarousel key={sportId} title={`Popular ${sport.name}`} matches={matchesBySport[sportId]} sectionId={sportId} />;\r\n          })}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/simpl/Desktop/nova-main/zeon/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}